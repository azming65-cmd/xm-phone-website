<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¡®è®¤è®¢å• - æ­å·å¢ƒæ ‘ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; background: #f5f5f5; }
        
        .top-bar { background: #f8f9fa; border-bottom: 1px solid #e9ecef; padding: 0.5rem 0; }
        .top-nav { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; padding: 0 2rem; }
        .top-nav a { color: #666; text-decoration: none; margin-left: 1rem; }
        
        .header { background: white; padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header-container { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 2rem; }
        .logo { font-size: 1.3rem; font-weight: bold; color: #333; text-decoration: none; }
        .back-btn { background: #ff6b35; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; }
        
        .container { max-width: 1200px; margin: 0.5rem auto; padding: 0 2rem; }
        .page-title { font-size: 1.5rem; color: #333; margin-bottom: 0.5rem; }
        
        .main-content { display: grid; grid-template-columns: 2fr 1fr; gap: 1rem; }
        
        .order-info, .payment-details { background: white; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        
        .section { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #f0f0f0; }
        .section-title { font-size: 1.2rem; color: #333; margin-bottom: 0.8rem; }
        
        .address-section { background: #f8f9fa; border: 2px solid #ff6b35; border-radius: 8px; padding: 0.8rem; }
        .btn { padding: 0.5rem 1rem; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer; margin-right: 1rem; }
        
        .product-item { display: flex; gap: 1rem; padding: 0.6rem 0; }
        .product-image { width: 80px; height: 80px; object-fit: cover; border-radius: 4px; }
        .product-price { color: #ff6b35; font-weight: bold; font-size: 1.1rem; }
        
        .price-row { display: flex; justify-content: space-between; margin-bottom: 0.6rem; padding: 0.3rem 0; }
        .total-price { border-top: 1px solid #f0f0f0; padding-top: 0.6rem; }
        .total-value { font-size: 1.5rem; color: #ff6b35; font-weight: bold; }
        
        .payment-option { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.6rem; padding: 0.6rem; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; }
        
        .submit-order { width: 100%; background: #ff6b35; color: white; border: none; padding: 1rem; border-radius: 4px; font-size: 1.1rem; font-weight: bold; cursor: pointer; }
        
        @media (max-width: 768px) { .main-content { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="top-nav">
            <span>ç½‘é¡µæ— éšœç¢</span>
            <div>
                <a href="index.html">é¦–é¡µ</a>
                <a href="#">æˆ‘çš„è®¢å•</a>
                <a href="#">è´­ç‰©è½¦</a>
                <a href="#">æ”¶è—å¤¹</a>
                <a href="#">è”ç³»å®¢æœ</a>
            </div>
        </div>
    </div>

    <div class="header">
        <div class="header-container">
            <a href="index.html" class="logo">æ­å·å¢ƒæ ‘ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸</a>
            <button class="back-btn" onclick="history.back()">è¿”å›ä¸Šé¡µ</button>
        </div>
    </div>

    <div class="container">
        <h1 class="page-title">ç¡®è®¤è®¢å•</h1>
        
        <div class="main-content">
            <div class="order-info">
                <div class="section">
                    <h2 class="section-title">ç¡®è®¤æ”¶è´§åœ°å€</h2>
                    <div class="address-section" id="addressContainer">
                        <div style="text-align: center; padding: 1rem; color: #999;">
                            <div style="font-size: 1rem; margin-bottom: 0.6rem;">æš‚æ— æ”¶è´§åœ°å€</div>
                            <div style="margin-bottom: 0.8rem; font-size: 0.85rem;">è¯·æ·»åŠ æ‚¨çš„æ”¶è´§åœ°å€</div>
                            <button class="btn" onclick="addNewAddress()" style="background: #ff6b35; color: white; border-color: #ff6b35; padding: 0.4rem 0.8rem; font-size: 0.9rem;">æ·»åŠ æ–°åœ°å€</button>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">ç¡®è®¤è®¢å•ä¿¡æ¯</h2>
                    <div class="product-item" id="productInfo">
                        <div class="product-image" style="background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999; font-size: 0.8rem; border: 1px solid #ddd;">
                            ğŸ“±<br>æ‰‹æœº
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: bold; margin-bottom: 0.5rem;" id="productName">åŠ è½½ä¸­...</div>
                            <div style="color: #666; font-size: 0.9rem; margin-bottom: 0.5rem;" id="productSpecs">åŠ è½½ä¸­...</div>
                            <div class="product-price" id="productPrice">Â¥0</div>
                            <div style="color: #666; font-size: 0.9rem;">æ•°é‡: 1</div>
                        </div>
                    </div>
                    
                    <!-- äº§å“è§„æ ¼é€‰æ‹© -->
                    <div class="product-options" style="margin-top: 0.8rem; padding-top: 0.8rem; border-top: 1px solid #f0f0f0;">
                        <h3 style="font-size: 1rem; color: #333; margin-bottom: 0.6rem;">äº§å“è§„æ ¼</h3>
                        
                        <!-- æ‰‹æœºå‹å·é€‰æ‹©ï¼ˆä»…å¯¹æ‰‹æœºå£³å•†å“æ˜¾ç¤ºï¼‰ -->
                        <div class="option-group" id="phoneModelGroup" style="margin-bottom: 0.8rem; display: none;">
                            <div style="font-weight: 500; color: #333; margin-bottom: 0.4rem;">é€‚ç”¨æ‰‹æœºå‹å·</div>
                            <div class="phone-model-options" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                <div class="phone-model-option selected" onclick="selectPhoneModel(this, 'å…¶ä»–æ‰‹æœºå‹å·')" style="padding: 0.4rem 0.7rem; border: 2px solid #ff6b35; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #ff6b35; font-weight: 500;">å…¶ä»–æ‰‹æœºå‹å·</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 16 Pro Max')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 16 Pro Max</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 16 Pro')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 16 Pro</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 16')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 16</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 16 Plus')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 16 Plus</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 15')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 15</div>
                                <div class="phone-model-option" onclick="selectPhoneModel(this, 'iPhone 15 Plus')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">iPhone 15 Plus</div>
                            </div>
                        </div>
                        
                        <!-- æ‰‹æœºè§„æ ¼é€‰æ‹©ï¼ˆä»…å¯¹æ‰‹æœºå•†å“æ˜¾ç¤ºï¼‰ -->
                        <div class="option-group" id="phoneSpecsGroup" style="margin-bottom: 0.8rem;">
                            <!-- æœºèº«é¢œè‰²é€‰æ‹© -->
                            <div style="margin-bottom: 0.8rem;">
                                <div style="font-weight: 500; color: #333; margin-bottom: 0.4rem;">æœºèº«é¢œè‰²</div>
                                <div class="color-options" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    <div class="color-option selected" onclick="selectColor(this, 'å«©ç»¿è‰²')" style="width: 45px; height: 45px; border: 2px solid #ff6b35; border-radius: 6px; display: flex; align-items: center; justify-content: center; background: #90EE90; cursor: pointer; position: relative;">
                                        <span style="font-size: 0.65rem; color: #333;">å«©ç»¿è‰²</span>
                                    </div>
                                    <div class="color-option" onclick="selectColor(this, 'åˆå¤œé»‘')" style="width: 45px; height: 45px; border: 2px solid #ddd; border-radius: 6px; display: flex; align-items: center; justify-content: center; background: #2F2F2F; cursor: pointer; position: relative;">
                                        <span style="font-size: 0.65rem; color: white;">åˆå¤œé»‘</span>
                                    </div>
                                    <div class="color-option" onclick="selectColor(this, 'æµ…ç´«è‰²')" style="width: 45px; height: 45px; border: 2px solid #ddd; border-radius: 6px; display: flex; align-items: center; justify-content: center; background: #E6E6FA; cursor: pointer; position: relative;">
                                        <span style="font-size: 0.65rem; color: #333;">æµ…ç´«è‰²</span>
                                    </div>
                                    <div class="color-option" onclick="selectColor(this, 'çç ç™½')" style="width: 45px; height: 45px; border: 2px solid #ddd; border-radius: 6px; display: flex; align-items: center; justify-content: center; background: #F5F5F5; cursor: pointer; position: relative;">
                                        <span style="font-size: 0.65rem; color: #333;">çç ç™½</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- å­˜å‚¨å®¹é‡é€‰æ‹© -->
                            <div style="margin-bottom: 0.8rem;">
                                <div style="font-weight: 500; color: #333; margin-bottom: 0.4rem;">å­˜å‚¨å®¹é‡</div>
                                <div class="storage-options" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    <div class="storage-option selected" onclick="selectStorage(this, '16GB+256GB')" style="padding: 0.4rem 0.7rem; border: 2px solid #ff6b35; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #ff6b35; font-weight: 500;">16GB+256GB</div>
                                    <div class="storage-option" onclick="selectStorage(this, '8GB+512GB')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">8GB+512GB</div>
                                    <div class="storage-option" onclick="selectStorage(this, '10GB+512GB')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">10GB+512GB</div>
                                    <div class="storage-option" onclick="selectStorage(this, '12GB+512GB')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">12GB+512GB</div>
                                    <div class="storage-option" onclick="selectStorage(this, '16GB+512GB')" style="padding: 0.4rem 0.7rem; border: 2px solid #ddd; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #666;">16GB+512GB</div>
                                </div>
                            </div>
                            
                            <!-- ç½‘ç»œç±»å‹é€‰æ‹© -->
                            <div style="margin-bottom: 0.8rem;">
                                <div style="font-weight: 500; color: #333; margin-bottom: 0.4rem;">ç½‘ç»œç±»å‹</div>
                                <div class="network-options" style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    <div class="network-option selected" onclick="selectNetwork(this, '5Gå…¨ç½‘é€š')" style="padding: 0.4rem 0.7rem; border: 2px solid #ff6b35; border-radius: 6px; background: white; cursor: pointer; font-size: 0.8rem; color: #ff6b35; font-weight: 500;">5Gå…¨ç½‘é€š</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- æ•°é‡é€‰æ‹© -->
                        <div class="option-group">
                            <div style="font-weight: 500; color: #333; margin-bottom: 0.4rem;">è´­ä¹°æ•°é‡</div>
                            <div class="quantity-selector" style="display: flex; align-items: center; gap: 0.5rem;">
                                <button onclick="changeQuantity(-1)" style="width: 26px; height: 26px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer; font-size: 0.9rem; color: #666;">-</button>
                                <span id="quantityDisplay" style="min-width: 32px; text-align: center; font-weight: 500;">1</span>
                                <button onclick="changeQuantity(1)" style="width: 26px; height: 26px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer; font-size: 0.9rem; color: #666;">+</button>
                                <span style="font-size: 0.8rem; color: #666; margin-left: 0.6rem;">æœ‰è´§(é™è´­2ä»¶)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">é…é€æœåŠ¡</h2>
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0;">
                        <span style="color: #666;">è¿è´¹åŒ…é‚®</span>
                        <span style="color: #ff6b35; font-weight: bold;">Â¥0</span>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">è®¢å•å¤‡æ³¨</h2>
                    <textarea placeholder="è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯ï¼Œä»˜æ¬¾åå•†å®¶å¯è§" style="width: 100%; height: 80px; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; resize: none;"></textarea>
                </div>
            </div>

            <div class="payment-details">
                <h2 class="section-title">ä»˜æ¬¾è¯¦æƒ… å…±1ä»¶å•†å“</h2>
                
                <div class="price-row">
                    <span style="color: #666;">å•†å“æ€»ä»·</span>
                    <span style="font-weight: bold;" id="totalPrice">Â¥0</span>
                </div>
                
                <div class="price-row">
                    <span style="color: #666;">è¿è´¹</span>
                    <span style="font-weight: bold;">Â¥0</span>
                </div>
                
                <div class="price-row total-price">
                    <span style="font-size: 1.1rem; font-weight: bold;">å®ä»˜æ¬¾</span>
                    <span class="total-value" id="finalPrice">Â¥0</span>
                </div>

                <div style="margin: 1.5rem 0;">
                    <h3 style="margin-bottom: 1rem; color: #333;">æ”¯ä»˜æ–¹å¼</h3>
                    <div class="payment-option">
                        <input type="radio" name="payment" id="alipay" checked>
                        <div style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                            <img src="images/alipay-icon.png.png" alt="æ”¯ä»˜å®" style="width: 32px; height: 32px; object-fit: contain;">
                        </div>
                        <label for="alipay">æ”¯ä»˜å®</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" name="payment" id="wechat">
                        <div style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                            <img src="images/weixinpayicon.png.png" alt="å¾®ä¿¡æ”¯ä»˜" style="width: 32px; height: 32px; object-fit: contain;">
                        </div>
                        <label for="wechat">å¾®ä¿¡æ”¯ä»˜</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" name="payment" id="unionpay">
                        <div style="width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                            <img src="images/yinlianpay-icon.png.png" alt="é“¶è”æ”¯ä»˜" style="width: 32px; height: 32px; object-fit: contain;">
                        </div>
                        <label for="unionpay">é“¶è”æ”¯ä»˜</label>
                    </div>
                </div>

                <div style="margin: 1rem 0; display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; color: #666;">
                    <input type="checkbox" id="agree" checked>
                    <label for="agree">æˆ‘å·²é˜…è¯»å¹¶åŒæ„ã€Šç”¨æˆ·åè®®ã€‹å’Œã€Šéšç§æ”¿ç­–ã€‹</label>
                </div>

                <button class="submit-order" onclick="submitOrder()">æäº¤è®¢å•</button>
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½æ—¶è·å–å•†å“ä¿¡æ¯
        window.onload = function() {
            loadProductInfo();
        };

        // å…¨å±€å˜é‡å­˜å‚¨é€‰æ‹©çš„è§„æ ¼
        let selectedColor = 'å«©ç»¿è‰²';
        let selectedStorage = '16GB+256GB';
        let selectedNetwork = '5Gå…¨ç½‘é€š';
        let selectedPhoneModel = 'å…¶ä»–æ‰‹æœºå‹å·';
        let quantity = 1;
        let isPhoneCase = false;

        // è·å–URLå‚æ•°
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // åŠ è½½å•†å“ä¿¡æ¯
        function loadProductInfo() {
            const productId = getUrlParameter('id');
            const productName = getUrlParameter('name');
            const productPrice = getUrlParameter('price');
            const productImage = getUrlParameter('image');
            
            if (productId && productName && productPrice) {
                // åˆ¤æ–­æ˜¯å¦ä¸ºæ‰‹æœºå£³å•†å“
                isPhoneCase = productName.includes('æ‰‹æœºå£³');
                
                // æ›´æ–°å•†å“åç§°
                document.getElementById('productName').textContent = productName;
                
                // æ ¹æ®å•†å“ç±»å‹æ˜¾ç¤ºä¸åŒçš„è§„æ ¼é€‰æ‹©
                if (isPhoneCase) {
                    // æ‰‹æœºå£³å•†å“æ˜¾ç¤ºæ‰‹æœºå‹å·é€‰æ‹©
                    document.getElementById('phoneModelGroup').style.display = 'block';
                    document.getElementById('phoneSpecsGroup').style.display = 'none';
                    document.getElementById('productSpecs').textContent = 'æ­£å“ä¿éšœ | å…¨å›½è”ä¿';
                } else {
                    // æ‰‹æœºå•†å“æ˜¾ç¤ºæŠ€æœ¯è§„æ ¼é€‰æ‹©
                    document.getElementById('phoneModelGroup').style.display = 'none';
                    document.getElementById('phoneSpecsGroup').style.display = 'block';
                    document.getElementById('productSpecs').textContent = 'æ­£å“ä¿éšœ | å…¨å›½è”ä¿';
                }
                
                // æ›´æ–°å•†å“ä»·æ ¼
                document.getElementById('productPrice').textContent = `Â¥${productPrice}`;
                
                // æ›´æ–°æ€»ä»·
                document.getElementById('totalPrice').textContent = `Â¥${productPrice}`;
                document.getElementById('finalPrice').textContent = `Â¥${productPrice}`;
                
                // å¦‚æœæœ‰å›¾ç‰‡ï¼Œæ›´æ–°å›¾ç‰‡
                if (productImage) {
                    const imageContainer = document.querySelector('.product-image');
                    imageContainer.innerHTML = `<img src="${productImage}" alt="${productName}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px;">`;
                }
                
                // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
                updateProductSpecs();
            } else {
                // å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œæ˜¾ç¤ºé»˜è®¤ä¿¡æ¯
                document.getElementById('productName').textContent = 'å•†å“ä¿¡æ¯åŠ è½½å¤±è´¥';
                document.getElementById('productSpecs').textContent = 'è¯·è¿”å›å•†å“é¡µé¢é‡æ–°é€‰æ‹©';
                document.getElementById('productPrice').textContent = 'Â¥0';
                document.getElementById('totalPrice').textContent = 'Â¥0';
                document.getElementById('finalPrice').textContent = 'Â¥0';
            }
        }

        function submitOrder() {
            const paymentMethod = document.querySelector('input[name="payment"]:checked').id;
            const agreed = document.getElementById('agree').checked;
            
            // æ£€æŸ¥æ˜¯å¦å·²æ·»åŠ åœ°å€
            const addressContainer = document.getElementById('addressContainer');
            if (!addressContainer.querySelector('.address-info')) {
                alert('è¯·å…ˆæ·»åŠ æ”¶è´§åœ°å€');
                return;
            }
            
            if (!agreed) {
                alert('è¯·å…ˆåŒæ„ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–');
                return;
            }
            
            // è·å–å®é™…ä»·æ ¼
            const finalPrice = document.getElementById('finalPrice').textContent;
            
            let paymentMethodName = '';
            switch(paymentMethod) {
                case 'alipay':
                    paymentMethodName = 'æ”¯ä»˜å®';
                    break;
                case 'wechat':
                    paymentMethodName = 'å¾®ä¿¡æ”¯ä»˜';
                    break;
                case 'unionpay':
                    paymentMethodName = 'é“¶è”æ”¯ä»˜';
                    break;
                default:
                    paymentMethodName = 'æœªçŸ¥æ”¯ä»˜æ–¹å¼';
            }
            
            let specsText = '';
            if (isPhoneCase) {
                specsText = `é€‚ç”¨æ‰‹æœºå‹å·: ${selectedPhoneModel}`;
            } else {
                specsText = `æœºèº«é¢œè‰²: ${selectedColor} | å­˜å‚¨å®¹é‡: ${selectedStorage} | ç½‘ç»œç±»å‹: ${selectedNetwork}`;
            }
            
            alert(`è®¢å•æäº¤æˆåŠŸï¼\nå•†å“è§„æ ¼: ${specsText}\næ•°é‡: ${quantity}\næ”¯ä»˜æ–¹å¼: ${paymentMethodName}\nè®¢å•é‡‘é¢: ${finalPrice}`);
        }

        function addNewAddress() {
            const addressContainer = document.getElementById('addressContainer');
            
            // åˆ›å»ºåœ°å€è¡¨å•
            const addressForm = `
                <div class="address-form">
                                    <div style="margin-bottom: 1rem;">
                    <input type="text" id="receiverName" placeholder="æ”¶è´§äººå§“å" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 0.5rem;">
                    <input type="tel" id="receiverPhone" placeholder="æ‰‹æœºå·ç " style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 0.5rem;">
                    <textarea id="receiverAddress" placeholder="è¯¦ç»†åœ°å€" style="width: 100%; height: 50px; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px; resize: none;"></textarea>
                </div>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn" onclick="saveAddress()" style="background: #ff6b35; color: white; border-color: #ff6b35;">ä¿å­˜åœ°å€</button>
                        <button class="btn" onclick="cancelAddAddress()">å–æ¶ˆ</button>
                    </div>
                </div>
            `;
            
            addressContainer.innerHTML = addressForm;
        }

        function saveAddress() {
            const name = document.getElementById('receiverName').value.trim();
            const phone = document.getElementById('receiverPhone').value.trim();
            const address = document.getElementById('receiverAddress').value.trim();
            
            if (!name || !phone || !address) {
                alert('è¯·å¡«å†™å®Œæ•´çš„åœ°å€ä¿¡æ¯');
                return;
            }
            
            // ç®€å•çš„æ‰‹æœºå·éªŒè¯
            if (!/^1[3-9]\d{9}$/.test(phone)) {
                alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç ');
                return;
            }
            
            const addressContainer = document.getElementById('addressContainer');
            
            // æ˜¾ç¤ºä¿å­˜çš„åœ°å€
            const addressInfo = `
                <div class="address-info">
                    <div style="font-weight: bold; margin-bottom: 0.5rem;">${name} ${phone}</div>
                    <div style="color: #666; line-height: 1.5;">${address}</div>
                </div>
                <div style="display: flex; gap: 1rem; margin-top: 0.8rem;">
                    <button class="btn" onclick="editAddress()">ç¼–è¾‘åœ°å€</button>
                    <button class="btn" onclick="addNewAddress()">æ·»åŠ æ–°åœ°å€</button>
                </div>
            `;
            
            addressContainer.innerHTML = addressInfo;
        }

        function cancelAddAddress() {
            const addressContainer = document.getElementById('addressContainer');
            
            // æ¢å¤åˆ°åˆå§‹çŠ¶æ€
            const initialState = `
                <div style="text-align: center; padding: 1rem; color: #999;">
                    <div style="font-size: 1rem; margin-bottom: 0.6rem;">æš‚æ— æ”¶è´§åœ°å€</div>
                    <div style="margin-bottom: 0.8rem; font-size: 0.85rem;">è¯·æ·»åŠ æ‚¨çš„æ”¶è´§åœ°å€</div>
                    <button class="btn" onclick="addNewAddress()" style="background: #ff6b35; color: white; border-color: #ff6b35; padding: 0.4rem 0.8rem; font-size: 0.9rem;">æ·»åŠ æ–°åœ°å€</button>
                </div>
            `;
            
            addressContainer.innerHTML = initialState;
        }

        function editAddress() {
            addNewAddress(); // é‡æ–°è°ƒç”¨æ·»åŠ åœ°å€å‡½æ•°ï¼Œæ˜¾ç¤ºç¼–è¾‘è¡¨å•
        }

        // é€‰æ‹©æœºèº«é¢œè‰²
        function selectColor(element, color) {
            // ç§»é™¤æ‰€æœ‰é¢œè‰²é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.color-option').forEach(option => {
                option.style.borderColor = '#ddd';
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.style.borderColor = '#ff6b35';
            selectedColor = color;
            
            // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
            updateProductSpecs();
        }

        // é€‰æ‹©å­˜å‚¨å®¹é‡
        function selectStorage(element, storage) {
            // ç§»é™¤æ‰€æœ‰å­˜å‚¨é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.storage-option').forEach(option => {
                option.style.borderColor = '#ddd';
                option.style.color = '#666';
                option.style.fontWeight = '400';
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.style.borderColor = '#ff6b35';
            element.style.color = '#ff6b35';
            element.style.fontWeight = '500';
            selectedStorage = storage;
            
            // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
            updateProductSpecs();
        }

        // é€‰æ‹©ç½‘ç»œç±»å‹
        function selectNetwork(element, network) {
            // ç§»é™¤æ‰€æœ‰ç½‘ç»œé€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.network-option').forEach(option => {
                option.style.borderColor = '#ddd';
                option.style.color = '#666';
                option.style.fontWeight = '400';
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.style.borderColor = '#ff6b35';
            element.style.color = '#ff6b35';
            element.style.fontWeight = '500';
            selectedNetwork = network;
            
            // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
            updateProductSpecs();
        }

        // é€‰æ‹©æ‰‹æœºå‹å·
        function selectPhoneModel(element, model) {
            // ç§»é™¤æ‰€æœ‰æ‰‹æœºå‹å·é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.phone-model-option').forEach(option => {
                option.style.borderColor = '#ddd';
                option.style.color = '#666';
                option.style.fontWeight = '400';
            });
            
            // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            element.style.borderColor = '#ff6b35';
            element.style.color = '#ff6b35';
            element.style.fontWeight = '500';
            selectedPhoneModel = model;
            
            // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
            updateProductSpecs();
        }

        // æ”¹å˜æ•°é‡
        function changeQuantity(change) {
            const newQuantity = Math.max(1, Math.min(2, quantity + change));
            if (newQuantity !== quantity) {
                quantity = newQuantity;
                document.getElementById('quantityDisplay').textContent = quantity;
                updateProductSpecs();
            }
        }

        // æ›´æ–°å•†å“è§„æ ¼æ˜¾ç¤º
        function updateProductSpecs() {
            const specsElement = document.getElementById('productSpecs');
            if (specsElement) {
                if (isPhoneCase) {
                    specsElement.textContent = `é€‚ç”¨æ‰‹æœºå‹å·: ${selectedPhoneModel}`;
                } else {
                    specsElement.textContent = `æœºèº«é¢œè‰²: ${selectedColor} | å­˜å‚¨å®¹é‡: ${selectedStorage} | ç½‘ç»œç±»å‹: ${selectedNetwork}`;
                }
            }
        }

        // æ”¯ä»˜æ–¹å¼é€‰æ‹©
        document.querySelectorAll('.payment-option').forEach(option => {
            option.addEventListener('click', function() {
                const radio = this.querySelector('input[type="radio"]');
                radio.checked = true;
                
                document.querySelectorAll('.payment-option').forEach(opt => {
                    opt.style.borderColor = '#ddd';
                });
                
                this.style.borderColor = '#ff6b35';
            });
        });
    </script>
</body>
</html>
